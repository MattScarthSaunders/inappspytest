var d=Object.defineProperty;var l=(i,e,n)=>e in i?d(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n;var c=(i,e,n)=>l(i,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();class p{constructor(){c(this,"inAppRegExps",["WebView","(iPhone|iPod|iPad)(?!.*Safari/)","Android.*wv\\)","FB_\\w|FB\\w"]);c(this,"inappRegex",new RegExp(`${this.inAppRegExps.map(e=>`(${e})`).join("|")}`,"ig"))}get isInAppBrowser(){const e=this.getUserAgent();return this.inappRegex.test(e)}redirect(){try{const n=[["utm_source",localStorage.getItem("utm_source")],["utm_medium",localStorage.getItem("utm_medium")],["utm_campaign",localStorage.getItem("utm_campaign")],["utm_content",localStorage.getItem("utm_content")]].filter(o=>o[1]).map(o=>o.join("=")),r=n.length>0?`?${n.join("&")}`:"",t=this.getUserAgent();if(t===""){s("useragent is empty, you shouldn't see this.");return}this.isiOS(t)?(s(`is ios. useragent: ${t}`),window.location.href=`x-safari-https://nodescript.dev/signup${r}`):(s(`is not ios. useragent: ${t}`),window.location.href=`intent:https://nodescript.dev/signup${r}#Intent;end`)}catch{}}isiOS(e){const n=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"],r=window&&window.document&&e.includes("Mac")&&"ontouchend"in window.document;return n.includes(e)||r}getUserAgent(){var e,n;return typeof window<"u"?(((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)||((n=window==null?void 0:window.navigator)==null?void 0:n.vendor)||(window==null?void 0:window.opera))??"":""}}function s(i){const e=document.getElementById("test");e.innerHTML=i}localStorage.setItem("utm_source","test");const a=new p;a.isInAppBrowser?a.redirect():s("No in-app browser detected, you should be able to use google logins!");
