var l=Object.defineProperty;var p=(o,e,i)=>e in o?l(o,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[e]=i;var c=(o,e,i)=>p(o,typeof e!="symbol"?e+"":e,i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function i(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=i(t);fetch(t.href,n)}})();class m{constructor(){c(this,"inAppRegExps",["WebView","(iPhone|iPod|iPad)(?!.*Safari/)","Android.*wv\\)","FB_\\w|FB\\w"]);c(this,"inappRegex",new RegExp(`${this.inAppRegExps.map(e=>`(${e})`).join("|")}`,"ig"))}isiOS(e){const i=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"],r=window&&window.document&&e.includes("Mac")&&"ontouchend"in window.document;return i.includes(e)||r}detectUserAgent(){const e=this.getUserAgent();return e.match(this.inappRegex)!==null?{isInApp:!0,userAgent:e}:{isInApp:!1,userAgent:e}}redirect(e){try{const r=[["utm_source",localStorage.getItem("utm_source")],["utm_medium",localStorage.getItem("utm_medium")],["utm_campaign",localStorage.getItem("utm_campaign")],["utm_content",localStorage.getItem("utm_content")]].filter(n=>n[1]).map(n=>n.join("=")),t=r.length>0?`?${r.join("&")}`:"";this.isiOS(e)?window.location.href=`x-safari-https://nodescript.dev/signup${t}`:window.location.href=`intent:https://nodescript.dev/signup${t}#Intent;end`}catch{}}getUserAgent(){var e,i;if(typeof window<"u"){const r=((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)||((i=window==null?void 0:window.navigator)==null?void 0:i.vendor)||(window==null?void 0:window.opera);if(r)return r}return""}}localStorage.setItem("utm_source","test");const u=new m,{isInApp:a,userAgent:d}=u.detectUserAgent(),g=document.getElementById("test");g.innerHTML=`${a}, ${d}`;a&&u.redirect(d);
