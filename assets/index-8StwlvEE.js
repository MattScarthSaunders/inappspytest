(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var v=Object.defineProperty,y=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))P.call(t,n)&&f(e,n,t[n]);if(g)for(var n of g(t))h.call(t,n)&&f(e,n,t[n]);return e},d=(e,t)=>y(e,_(t)),b="Window is not available and no user agent was provided.",O=()=>{var e,t;if(typeof window<"u"){const n=((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.vendor)||(window==null?void 0:window.opera);if(n)return n}return console.error(b),""},u={isInApp:!1,appKey:void 0,appName:void 0,skipped:!1},A=e=>e.match(/(iPhone|iPad|iPod|Macintosh)/)!==null,S=({skip:e,appKey:t,ua:n})=>{if(!e||e.length===0)return!1;const o=A(n);return e.some(({appKey:r,platform:i})=>t===r&&(!i||o&&i==="apple"||!o&&i==="android"))},x=()=>"TelegramWebview"in window||"TelegramWebviewProxy"in window||"TelegramWebviewProxyProto"in window,I={telegram:{name:"Telegram"}},N=()=>{if(x())return"telegram"},l={messenger:{regex:/\bFB[\w_]+\/(Messenger|MESSENGER)/,name:"Facebook Messenger"},facebook:{regex:/\bFB[\w_]+\//,name:"Facebook"},twitter:{regex:/\bTwitter/i,name:"Twitter"},line:{regex:/\bLine\//i,name:"Line"},wechat:{regex:/\bMicroMessenger\//i,name:"WeChat"},instagram:{regex:/\bInstagram/i,name:"Instagram"},tiktok:{regex:/musical_ly|Bytedance/i,name:"TikTok"},snapchat:{regex:/Snapchat/i,name:"Snapchat"},linkedin:{regex:/LinkedInApp/i,name:"LinkedIn"},gsa:{regex:/GSA/i,name:"Google Search App"}},k=Object.keys(l),E=e=>k.find(t=>l[t].regex.test(e)),K=["WebView","(iPhone|iPod|iPad)(?!.*Safari/)","Android.*wv\\)","FB_\\w|FB\\w","Snapchat","GSA"],T=new RegExp(`${K.map(e=>`(${e})`).join("|")}`,"ig"),L=(e={})=>{var t,n;const{skip:o}=e,r=O();if(!r)return d(p({},u),{ua:r});const i=s=>S({skip:o,appKey:s,ua:r});if(r.match(T)!==null){const s=E(r);return i(s)?d(p({},u),{ua:r,skipped:!0}):{isInApp:!0,appKey:s,appName:s?l[s].name:void 0,ua:r,skipped:!1}}const a=N();return a?i(a)?d(p({},u),{ua:r,skipped:!0}):{isInApp:!0,appKey:a,appName:(n=(t=I)==null?void 0:t[a])==null?void 0:n.name,ua:r,skipped:!1}:d(p({},u),{ua:r})},M=L;const{isInApp:c,appKey:m,appName:F,ua:R}=M();console.log(c,m);function w(){var e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":"unknown"}c&&w()==="Android"&&(window.location="intent:https://nodescript.dev/?utm_source=social_redirect_test#Intent;end");c&&w()==="iOS"&&(window.location="x-safari-https://nodescript.dev/?utm_source=social_redirect_test");const W=document.getElementById("test");W.innerText=`${JSON.stringify({isInApp:c,appKey:m,appName:F,ua:R})}`;
